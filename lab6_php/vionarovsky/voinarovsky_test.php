<?php
// voinarovsky_test.php
header('Content-Type: text/html; charset=UTF-8');
?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style_test_4.css" id="stylesheet">
    <link href="itc-slider.css" rel="stylesheet" id="slidercss">
    <script src="itc-slider.js" defer></script>
    <title>Тест Войнаровского</title>
</head>
<body>
<div id="bg" class="bg_img">
    <div id="voinarovsky_test" class="tester">
        <div id="Instruction" class="instruction text_instruction">
            Вам предлагается логическое суждение и несколько следствий; из трех следствий одно и только одно правильно.
            Ваша задача выбрать его.
        </div>
        <div id="Iteration" class="iteration"></div>
        <div id="Timer" class="iteration"></div>
        <div id="Progress" class="progress"></div>
        <button id="Settings_button" class="settings_button" name="settings" onclick="showSettings()">Настройки</button>
        <div id="Settings" class="settings_panel">
            <div class="setting_item">
                <label for="testDuration">Длительность теста (мин):</label>
                <input type="number" id="testDuration" min="2" max="40" value="1">
            </div>
            <div class="setting_item">
                <input type="checkbox" id="showTimer" checked>
                <label for="showTimer">Показывать таймер</label>
            </div>
            <div class="setting_item">
                <input type="checkbox" id="showProgress" checked>
                <label for="showProgress">Показывать прогресс</label>
            </div>
            <button onclick="hideSettings()" class="save_settings">Сохранить</button>
        </div>
        <button id="Start_button" class="start_button" name="start" onclick="start_test()">Начать</button>
        <div id="Final Result" class="result"></div>
        <div class="container-voinarovsky" id="container-voinarovsky">
            <div class="itc-slider" data-slider="itc-slider" data-loop="false" data-autoplay="false">
                <form id="test" name="test" action="<?php echo htmlspecialchars($_SERVER['PHP_SELF']); ?>" method="post">
                    <div class="itc-slider__wrapper">
                        <div class="itc-slider__items">
                            <?php
                            // Массив вопросов для теста Войнаровского
                            $questions = [
                                [
                                    'title' => 'Шмурдик боится как мышей, так и тараканов',
                                    'options' => [
                                        'Шмурдик не боится тараканов',
                                        'Шмурдик боится мышей',
                                        'Шмурдик боится мышей больше, чем тараканов, но и тараканов боится тоже'
                                    ],
                                    'name' => 'q1'
                                ],
                                [
                                    'title' => 'Известно, что грымзик обязательно или полосат, или рогат, или то и другое вместе',
                                    'options' => [
                                        'грымзик не может быть безрогим',
                                        'грымзик не может быть однотонным и безрогим одновременно',
                                        'грымзик не может быть полосатым и безрогим одновременно'
                                    ],
                                    'name' => 'q2'
                                ],
                                [
                                    'title' => 'Если запырку отравить, то она сразу начнет пускать пузыри',
                                    'options' => [
                                        'если запырка пускает пузыри, то она была отравлена',
                                        'если запырку не отравить, то она не будет пускать пузыри',
                                        'если запырка не пускает пузыри, то она не отравлена'
                                    ],
                                    'name' => 'q3'
                                ],
                                [
                                    'title' => 'Все охлотушки умеют играть в шашки',
                                    'options' => [
                                        'не бывает охлотушек, которые не умеют играть в шашки',
                                        'все, кто умеет играть в шашки, являются охлотушками',
                                        'не бывает охлотушек, которые умеют играть в шашки'
                                    ],
                                    'name' => 'q4'
                                ],
                                [
                                    'title' => 'Дубараторы бывают либо хорошими, либо плохими. Неправда, что этот дубаратор не плохой',
                                    'options' => [
                                        'этот дубаратор хороший',
                                        'этот дубаратор средненький',
                                        'этот дубаратор плохой'
                                    ],
                                    'name' => 'q5'
                                ],
                                [
                                    'title' => 'В природе обнаружено более десятка тиалей. Все обнаруженные тиали сплошь красного цвета',
                                    'options' => [
                                        'по крайней мере некоторые из тиалей красного цвета',
                                        'по крайней мере некоторые из тиалей зеленые',
                                        'некоторые тиали (из тех, что уже обнаружены) могут оказаться не красными'
                                    ],
                                    'name' => 'q6'
                                ],
                                [
                                    'title' => 'Существуют шакалы с больной мухропендией',
                                    'options' => [
                                        'не всякий шакал может похвастаться здоровой мухропендией',
                                        'не всякий шакал может похвастаться больной мухропендией',
                                        'существуют шакалы со здоровой мухропендией'
                                    ],
                                    'name' => 'q7'
                                ],
                                [
                                    'title' => 'Неправда, что наша тумельница большая и круглая',
                                    'options' => [
                                        'наша тумельница маленькая и некруглая',
                                        'наша тумельница маленькая, или некруглая, или то и другое вместе',
                                        'наша тумельница маленькая, или некруглая, но не то и другое вместе'
                                    ],
                                    'name' => 'q8'
                                ],
                                [
                                    'title' => 'Джон всегда либо урдит, либо мурлит',
                                    'options' => [
                                        'Джон иногда урдит',
                                        'Джон иногда урдит, а иногда мурлит',
                                        'Джон никогда не занимается одновременно и урдением, и мурлением'
                                    ],
                                    'name' => 'q9'
                                ],
                                [
                                    'title' => 'Журналисты наврали, что бздыш болотный безграмотен и нахален',
                                    'options' => [
                                        'на самом деле бздыш болотный образован и тактичен',
                                        'на самом деле бздыш болотный безграмотен, но не нахален',
                                        'те журналисты солгали'
                                    ],
                                    'name' => 'q10'
                                ],
                                [
                                    'title' => 'Если тряхнуть бурдылькой, то начнется стрельба. Бурдылькой тряхнули',
                                    'options' => [
                                        'стрельба уже началась',
                                        'стрельба начнется когда-нибудь',
                                        'стрельба начнется когда-нибудь или уже началась'
                                    ],
                                    'name' => 'q11'
                                ],
                                [
                                    'title' => 'Если тряхнуть перпелькой, то немедленно начнется стрельба. За последний час стрельбы не было',
                                    'options' => [
                                        'в течение последнего часа перпелькой не трясли',
                                        'в течение последнего часа перпелькой трясли',
                                        'а нечего было трясти чем попало'
                                    ],
                                    'name' => 'q12'
                                ],
                                [
                                    'title' => 'Огромный бутряк напугал деревенского старосту',
                                    'options' => [
                                        'старосте приснился ночной кошмар',
                                        'староста попробовал некачественной выпивки',
                                        'староста был напуган'
                                    ],
                                    'name' => 'q13'
                                ],
                                [
                                    'title' => 'Если почесать угубка за ухом, он начнет довольно шипеть. Если угубок довольно зашипит, то молоко поблизости скиснет',
                                    'options' => [
                                        'если не чесать угубка за ухом, то молоко поблизости не скиснет',
                                        'если почесать угубка за ухом, молоко поблизости скиснет',
                                        'молоко вдалеке никогда не скисает от чесания угубков'
                                    ],
                                    'name' => 'q14'
                                ],
                                [
                                    'title' => 'Всех, кто громко обуривает, обязательно съедают. Все ухмырки постоянно громко обуривают',
                                    'options' => [
                                        'все, кто громко обуривает,- ухмырки',
                                        'всех ухмырков обязательно съедают',
                                        'некоторых ухмырков не съедают'
                                    ],
                                    'name' => 'q15'
                                ],
                                [
                                    'title' => 'В реках близ Тимуграда обитает и вобла, и щука',
                                    'options' => [
                                        'в реках близ Тимуграда не бывает воблы',
                                        'в реках близ Тимуграда обитает щука',
                                        'в реках близ Тимуграда обитает только вобла и щука'
                                    ],
                                    'name' => 'q16'
                                ],
                                [
                                    'title' => 'Все пуфелки радуют умом или красотой, а иногда даже и тем, и другим',
                                    'options' => [
                                        'пуфелка не может быть глупой',
                                        'не бывает глупых некрасивых пуфелок',
                                        'не бывает умных красивых пуфелок'
                                    ],
                                    'name' => 'q17'
                                ],
                                [
                                    'title' => 'Когда вы спите, вы всегда мухряете',
                                    'options' => [
                                        'если вы мухряете, значит, вы спите',
                                        'если вы не спите, вы не мухряете',
                                        'если вы не мухряете, значит, вы не спите'
                                    ],
                                    'name' => 'q18'
                                ],
                                [
                                    'title' => 'Все болельщики любят ыгу',
                                    'options' => [
                                        'не бывает болельщиков, которые не любят ыгу',
                                        'все, кто любит ыгу, болеет за кого-нибудь',
                                        'не бывает болельщиков, которые любят ыгу'
                                    ],
                                    'name' => 'q19'
                                ],
                                [
                                    'title' => 'Есть только два вида здунцов: красные и синие. Что касается этого конкретного здунца, то он оказался вовсе не синим',
                                    'options' => [
                                        'этот здунец синий',
                                        'этот здунец синекрасный',
                                        'этот здунец красный'
                                    ],
                                    'name' => 'q20'
                                ],
                                [
                                    'title' => 'Найдено множество останков быдлозавров. Но все они очень плохо сохранились',
                                    'options' => [
                                        'некоторые останки быдлозавров очень плохо сохранились',
                                        'по крайней мере некоторые останки быдлозавров в отличном состоянии',
                                        'некоторые найденные останки быдлозавров сохранились хорошо'
                                    ],
                                    'name' => 'q21'
                                ],
                                [
                                    'title' => 'Некоторые лапухондрии не стабильны',
                                    'options' => [
                                        'не всякая лапухондрия не стабильна',
                                        'существуют стабильные лапухондрии',
                                        'не всякая лапухондрия стабильна'
                                    ],
                                    'name' => 'q22'
                                ],
                                [
                                    'title' => 'Говорили, что дукни и острые, и твердые. Оказывается, это вовсе не так',
                                    'options' => [
                                        'на самом деле дукни тупые и мягкие',
                                        'на самом деле дукни тупые или мягкие или то и другое сразу',
                                        'на самом деле дукни тупые или мягкие, но не то и другое сразу'
                                    ],
                                    'name' => 'q23'
                                ],
                                [
                                    'title' => 'Кафля всегда либо бегает, либо дышит',
                                    'options' => [
                                        'Кафля дышит на бегу',
                                        'Кафля не дышит стоя',
                                        'Кафля не дышит на бегу'
                                    ],
                                    'name' => 'q24'
                                ],
                                [
                                    'title' => 'Информация о том, что завтрашнее совещание будет посвящено альным утятам, оказалась ложной',
                                    'options' => [
                                        'информация оказалась ложной',
                                        'совещание будет посвящено не утятам',
                                        'совещание будет посвящено утятам, но вовсе не альным'
                                    ],
                                    'name' => 'q25'
                                ],
                                [
                                    'title' => 'Если облить уузку водой, она испортится сразу же. Эта уузка не испорчена. Сейчас я оболью ее водой',
                                    'options' => [
                                        'не надо обижать уузку',
                                        'уузка испортится',
                                        'уузка не испортится'
                                    ],
                                    'name' => 'q26'
                                ],
                                [
                                    'title' => 'Если облить уузку водой, она испортится сразу же. Эта уузка не была испорчена',
                                    'options' => [
                                        'уузку не обливали',
                                        'уузку обливали',
                                        'да отстаньте вы от уузки'
                                    ],
                                    'name' => 'q27'
                                ],
                                [
                                    'title' => 'Вася бросил проходить этот тест, ответив только на 28 вопросов',
                                    'options' => [
                                        'Вася устал, проходя тест',
                                        'Вася заколебался, проходя тест',
                                        'Вася не закончил тест'
                                    ],
                                    'name' => 'q28'
                                ],
                                [
                                    'title' => 'Если покормить бушку, она успокоится. Спокойную бушку можно доить',
                                    'options' => [
                                        'если бушку не кормить, ее нельзя будет доить',
                                        'бушку можно доить, но не кормить, она сама чего-нибудь найдет и съест',
                                        'после кормления бушку можно доить'
                                    ],
                                    'name' => 'q29'
                                ],
                                [
                                    'title' => 'Если обрадовать бушку, она даст молока. Бушка обрадуется, если дернуть ее за хвост',
                                    'options' => [
                                        'если дернуть бушку за хвост, она даст молока',
                                        'никто не обрадуется, если дернуть его за хвост',
                                        'если не дернуть бушку за хвост, она не даст молока'
                                    ],
                                    'name' => 'q30'
                                ]
                            ];

                            // Генерация вопросов
                            foreach ($questions as $index => $question) {
                                echo '<div class="itc-slider__item">';
                                echo '<h3 class="question_title">' . htmlspecialchars($question['title']) . '</h3>';
                                foreach ($question['options'] as $optionIndex => $option) {
                                    echo '<label class="question">';
                                    echo '<input class="question_inp" type="radio" name="' . htmlspecialchars($question['name']) . '">';
                                    echo '<span class="question_span">' . htmlspecialchars($option) . '</span>';
                                    echo '</label>';
                                }
                                echo '</div>';
                            }
                            ?>
                        </div>
                    </div>
                </form>
                <button class="itc-slider__btn itc-slider__btn_prev"></button>
                <button class="itc-slider__btn itc-slider__btn_next"></button>
            </div>
        </div>
        <button id="Finish_button" class="restart_button" name="finish" onclick="finish_test()" style="top: 5vh">Готово</button>
        <a href="/voinarovsky_test.php" class="restart_button" id="Retry">Заново</a>
    </div>
</div>
<script src="voinarovsky_test.js"></script>
</body>
</html>